{"ast":null,"code":"// Generated by CoffeeScript 1.12.7\n(function () {\n  var NodeType,\n      WriterState,\n      XMLCData,\n      XMLComment,\n      XMLDTDAttList,\n      XMLDTDElement,\n      XMLDTDEntity,\n      XMLDTDNotation,\n      XMLDeclaration,\n      XMLDocType,\n      XMLDummy,\n      XMLElement,\n      XMLProcessingInstruction,\n      XMLRaw,\n      XMLText,\n      XMLWriterBase,\n      assign,\n      hasProp = {}.hasOwnProperty;\n  assign = require('./Utility').assign;\n  NodeType = require('./NodeType');\n  XMLDeclaration = require('./XMLDeclaration');\n  XMLDocType = require('./XMLDocType');\n  XMLCData = require('./XMLCData');\n  XMLComment = require('./XMLComment');\n  XMLElement = require('./XMLElement');\n  XMLRaw = require('./XMLRaw');\n  XMLText = require('./XMLText');\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n  XMLDummy = require('./XMLDummy');\n  XMLDTDAttList = require('./XMLDTDAttList');\n  XMLDTDElement = require('./XMLDTDElement');\n  XMLDTDEntity = require('./XMLDTDEntity');\n  XMLDTDNotation = require('./XMLDTDNotation');\n  WriterState = require('./WriterState');\n\n  module.exports = XMLWriterBase = function () {\n    function XMLWriterBase(options) {\n      var key, ref, value;\n      options || (options = {});\n      this.options = options;\n      ref = options.writer || {};\n\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this[\"_\" + key] = this[key];\n        this[key] = value;\n      }\n    }\n\n    XMLWriterBase.prototype.filterOptions = function (options) {\n      var filteredOptions, ref, ref1, ref2, ref3, ref4, ref5, ref6;\n      options || (options = {});\n      options = assign({}, this.options, options);\n      filteredOptions = {\n        writer: this\n      };\n      filteredOptions.pretty = options.pretty || false;\n      filteredOptions.allowEmpty = options.allowEmpty || false;\n      filteredOptions.indent = (ref = options.indent) != null ? ref : '  ';\n      filteredOptions.newline = (ref1 = options.newline) != null ? ref1 : '\\n';\n      filteredOptions.offset = (ref2 = options.offset) != null ? ref2 : 0;\n      filteredOptions.dontPrettyTextNodes = (ref3 = (ref4 = options.dontPrettyTextNodes) != null ? ref4 : options.dontprettytextnodes) != null ? ref3 : 0;\n      filteredOptions.spaceBeforeSlash = (ref5 = (ref6 = options.spaceBeforeSlash) != null ? ref6 : options.spacebeforeslash) != null ? ref5 : '';\n\n      if (filteredOptions.spaceBeforeSlash === true) {\n        filteredOptions.spaceBeforeSlash = ' ';\n      }\n\n      filteredOptions.suppressPrettyCount = 0;\n      filteredOptions.user = {};\n      filteredOptions.state = WriterState.None;\n      return filteredOptions;\n    };\n\n    XMLWriterBase.prototype.indent = function (node, options, level) {\n      var indentLevel;\n\n      if (!options.pretty || options.suppressPrettyCount) {\n        return '';\n      } else if (options.pretty) {\n        indentLevel = (level || 0) + options.offset + 1;\n\n        if (indentLevel > 0) {\n          return new Array(indentLevel).join(options.indent);\n        }\n      }\n\n      return '';\n    };\n\n    XMLWriterBase.prototype.endline = function (node, options, level) {\n      if (!options.pretty || options.suppressPrettyCount) {\n        return '';\n      } else {\n        return options.newline;\n      }\n    };\n\n    XMLWriterBase.prototype.attribute = function (att, options, level) {\n      var r;\n      this.openAttribute(att, options, level);\n      r = ' ' + att.name + '=\"' + att.value + '\"';\n      this.closeAttribute(att, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.cdata = function (node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<![CDATA[';\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += ']]>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.comment = function (node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!-- ';\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += ' -->' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.declaration = function (node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<?xml';\n      options.state = WriterState.InsideTag;\n      r += ' version=\"' + node.version + '\"';\n\n      if (node.encoding != null) {\n        r += ' encoding=\"' + node.encoding + '\"';\n      }\n\n      if (node.standalone != null) {\n        r += ' standalone=\"' + node.standalone + '\"';\n      }\n\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '?>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.docType = function (node, options, level) {\n      var child, i, len, r, ref;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      r += '<!DOCTYPE ' + node.root().name;\n\n      if (node.pubID && node.sysID) {\n        r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n      } else if (node.sysID) {\n        r += ' SYSTEM \"' + node.sysID + '\"';\n      }\n\n      if (node.children.length > 0) {\n        r += ' [';\n        r += this.endline(node, options, level);\n        options.state = WriterState.InsideTag;\n        ref = node.children;\n\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          r += this.writeChildNode(child, options, level + 1);\n        }\n\n        options.state = WriterState.CloseTag;\n        r += ']';\n      }\n\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.element = function (node, options, level) {\n      var att, child, childNodeCount, firstChildNode, i, j, len, len1, name, prettySuppressed, r, ref, ref1, ref2;\n      level || (level = 0);\n      prettySuppressed = false;\n      r = '';\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r += this.indent(node, options, level) + '<' + node.name;\n      ref = node.attribs;\n\n      for (name in ref) {\n        if (!hasProp.call(ref, name)) continue;\n        att = ref[name];\n        r += this.attribute(att, options, level);\n      }\n\n      childNodeCount = node.children.length;\n      firstChildNode = childNodeCount === 0 ? null : node.children[0];\n\n      if (childNodeCount === 0 || node.children.every(function (e) {\n        return (e.type === NodeType.Text || e.type === NodeType.Raw) && e.value === '';\n      })) {\n        if (options.allowEmpty) {\n          r += '>';\n          options.state = WriterState.CloseTag;\n          r += '</' + node.name + '>' + this.endline(node, options, level);\n        } else {\n          options.state = WriterState.CloseTag;\n          r += options.spaceBeforeSlash + '/>' + this.endline(node, options, level);\n        }\n      } else if (options.pretty && childNodeCount === 1 && (firstChildNode.type === NodeType.Text || firstChildNode.type === NodeType.Raw) && firstChildNode.value != null) {\n        r += '>';\n        options.state = WriterState.InsideTag;\n        options.suppressPrettyCount++;\n        prettySuppressed = true;\n        r += this.writeChildNode(firstChildNode, options, level + 1);\n        options.suppressPrettyCount--;\n        prettySuppressed = false;\n        options.state = WriterState.CloseTag;\n        r += '</' + node.name + '>' + this.endline(node, options, level);\n      } else {\n        if (options.dontPrettyTextNodes) {\n          ref1 = node.children;\n\n          for (i = 0, len = ref1.length; i < len; i++) {\n            child = ref1[i];\n\n            if ((child.type === NodeType.Text || child.type === NodeType.Raw) && child.value != null) {\n              options.suppressPrettyCount++;\n              prettySuppressed = true;\n              break;\n            }\n          }\n        }\n\n        r += '>' + this.endline(node, options, level);\n        options.state = WriterState.InsideTag;\n        ref2 = node.children;\n\n        for (j = 0, len1 = ref2.length; j < len1; j++) {\n          child = ref2[j];\n          r += this.writeChildNode(child, options, level + 1);\n        }\n\n        options.state = WriterState.CloseTag;\n        r += this.indent(node, options, level) + '</' + node.name + '>';\n\n        if (prettySuppressed) {\n          options.suppressPrettyCount--;\n        }\n\n        r += this.endline(node, options, level);\n        options.state = WriterState.None;\n      }\n\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.writeChildNode = function (node, options, level) {\n      switch (node.type) {\n        case NodeType.CData:\n          return this.cdata(node, options, level);\n\n        case NodeType.Comment:\n          return this.comment(node, options, level);\n\n        case NodeType.Element:\n          return this.element(node, options, level);\n\n        case NodeType.Raw:\n          return this.raw(node, options, level);\n\n        case NodeType.Text:\n          return this.text(node, options, level);\n\n        case NodeType.ProcessingInstruction:\n          return this.processingInstruction(node, options, level);\n\n        case NodeType.Dummy:\n          return '';\n\n        case NodeType.Declaration:\n          return this.declaration(node, options, level);\n\n        case NodeType.DocType:\n          return this.docType(node, options, level);\n\n        case NodeType.AttributeDeclaration:\n          return this.dtdAttList(node, options, level);\n\n        case NodeType.ElementDeclaration:\n          return this.dtdElement(node, options, level);\n\n        case NodeType.EntityDeclaration:\n          return this.dtdEntity(node, options, level);\n\n        case NodeType.NotationDeclaration:\n          return this.dtdNotation(node, options, level);\n\n        default:\n          throw new Error(\"Unknown XML node type: \" + node.constructor.name);\n      }\n    };\n\n    XMLWriterBase.prototype.processingInstruction = function (node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<?';\n      options.state = WriterState.InsideTag;\n      r += node.target;\n\n      if (node.value) {\n        r += ' ' + node.value;\n      }\n\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '?>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.raw = function (node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.text = function (node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdAttList = function (node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ATTLIST';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.elementName + ' ' + node.attributeName + ' ' + node.attributeType;\n\n      if (node.defaultValueType !== '#DEFAULT') {\n        r += ' ' + node.defaultValueType;\n      }\n\n      if (node.defaultValue) {\n        r += ' \"' + node.defaultValue + '\"';\n      }\n\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdElement = function (node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ELEMENT';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.name + ' ' + node.value;\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdEntity = function (node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ENTITY';\n      options.state = WriterState.InsideTag;\n\n      if (node.pe) {\n        r += ' %';\n      }\n\n      r += ' ' + node.name;\n\n      if (node.value) {\n        r += ' \"' + node.value + '\"';\n      } else {\n        if (node.pubID && node.sysID) {\n          r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n        } else if (node.sysID) {\n          r += ' SYSTEM \"' + node.sysID + '\"';\n        }\n\n        if (node.nData) {\n          r += ' NDATA ' + node.nData;\n        }\n      }\n\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdNotation = function (node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!NOTATION';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.name;\n\n      if (node.pubID && node.sysID) {\n        r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n      } else if (node.pubID) {\n        r += ' PUBLIC \"' + node.pubID + '\"';\n      } else if (node.sysID) {\n        r += ' SYSTEM \"' + node.sysID + '\"';\n      }\n\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.openNode = function (node, options, level) {};\n\n    XMLWriterBase.prototype.closeNode = function (node, options, level) {};\n\n    XMLWriterBase.prototype.openAttribute = function (att, options, level) {};\n\n    XMLWriterBase.prototype.closeAttribute = function (att, options, level) {};\n\n    return XMLWriterBase;\n  }();\n}).call(this);","map":{"version":3,"sources":["C:/Users/balwi/Documents/Coding/react-sfmc-api-poc/node_modules/xmlbuilder/lib/XMLWriterBase.js"],"names":["NodeType","WriterState","XMLCData","XMLComment","XMLDTDAttList","XMLDTDElement","XMLDTDEntity","XMLDTDNotation","XMLDeclaration","XMLDocType","XMLDummy","XMLElement","XMLProcessingInstruction","XMLRaw","XMLText","XMLWriterBase","assign","hasProp","hasOwnProperty","require","module","exports","options","key","ref","value","writer","call","prototype","filterOptions","filteredOptions","ref1","ref2","ref3","ref4","ref5","ref6","pretty","allowEmpty","indent","newline","offset","dontPrettyTextNodes","dontprettytextnodes","spaceBeforeSlash","spacebeforeslash","suppressPrettyCount","user","state","None","node","level","indentLevel","Array","join","endline","attribute","att","r","openAttribute","name","closeAttribute","cdata","openNode","OpenTag","InsideTag","CloseTag","closeNode","comment","declaration","version","encoding","standalone","docType","child","i","len","root","pubID","sysID","children","length","writeChildNode","element","childNodeCount","firstChildNode","j","len1","prettySuppressed","attribs","every","e","type","Text","Raw","CData","Comment","Element","raw","text","ProcessingInstruction","processingInstruction","Dummy","Declaration","DocType","AttributeDeclaration","dtdAttList","ElementDeclaration","dtdElement","EntityDeclaration","dtdEntity","NotationDeclaration","dtdNotation","Error","constructor","target","elementName","attributeName","attributeType","defaultValueType","defaultValue","pe","nData"],"mappings":"AAAA;AACA,CAAC,YAAW;AACV,MAAIA,QAAJ;AAAA,MAAcC,WAAd;AAAA,MAA2BC,QAA3B;AAAA,MAAqCC,UAArC;AAAA,MAAiDC,aAAjD;AAAA,MAAgEC,aAAhE;AAAA,MAA+EC,YAA/E;AAAA,MAA6FC,cAA7F;AAAA,MAA6GC,cAA7G;AAAA,MAA6HC,UAA7H;AAAA,MAAyIC,QAAzI;AAAA,MAAmJC,UAAnJ;AAAA,MAA+JC,wBAA/J;AAAA,MAAyLC,MAAzL;AAAA,MAAiMC,OAAjM;AAAA,MAA0MC,aAA1M;AAAA,MAAyNC,MAAzN;AAAA,MACEC,OAAO,GAAG,GAAGC,cADf;AAGAF,EAAAA,MAAM,GAAGG,OAAO,CAAC,WAAD,CAAP,CAAqBH,MAA9B;AAEAhB,EAAAA,QAAQ,GAAGmB,OAAO,CAAC,YAAD,CAAlB;AAEAX,EAAAA,cAAc,GAAGW,OAAO,CAAC,kBAAD,CAAxB;AAEAV,EAAAA,UAAU,GAAGU,OAAO,CAAC,cAAD,CAApB;AAEAjB,EAAAA,QAAQ,GAAGiB,OAAO,CAAC,YAAD,CAAlB;AAEAhB,EAAAA,UAAU,GAAGgB,OAAO,CAAC,cAAD,CAApB;AAEAR,EAAAA,UAAU,GAAGQ,OAAO,CAAC,cAAD,CAApB;AAEAN,EAAAA,MAAM,GAAGM,OAAO,CAAC,UAAD,CAAhB;AAEAL,EAAAA,OAAO,GAAGK,OAAO,CAAC,WAAD,CAAjB;AAEAP,EAAAA,wBAAwB,GAAGO,OAAO,CAAC,4BAAD,CAAlC;AAEAT,EAAAA,QAAQ,GAAGS,OAAO,CAAC,YAAD,CAAlB;AAEAf,EAAAA,aAAa,GAAGe,OAAO,CAAC,iBAAD,CAAvB;AAEAd,EAAAA,aAAa,GAAGc,OAAO,CAAC,iBAAD,CAAvB;AAEAb,EAAAA,YAAY,GAAGa,OAAO,CAAC,gBAAD,CAAtB;AAEAZ,EAAAA,cAAc,GAAGY,OAAO,CAAC,kBAAD,CAAxB;AAEAlB,EAAAA,WAAW,GAAGkB,OAAO,CAAC,eAAD,CAArB;;AAEAC,EAAAA,MAAM,CAACC,OAAP,GAAiBN,aAAa,GAAI,YAAW;AAC3C,aAASA,aAAT,CAAuBO,OAAvB,EAAgC;AAC9B,UAAIC,GAAJ,EAASC,GAAT,EAAcC,KAAd;AACAH,MAAAA,OAAO,KAAKA,OAAO,GAAG,EAAf,CAAP;AACA,WAAKA,OAAL,GAAeA,OAAf;AACAE,MAAAA,GAAG,GAAGF,OAAO,CAACI,MAAR,IAAkB,EAAxB;;AACA,WAAKH,GAAL,IAAYC,GAAZ,EAAiB;AACf,YAAI,CAACP,OAAO,CAACU,IAAR,CAAaH,GAAb,EAAkBD,GAAlB,CAAL,EAA6B;AAC7BE,QAAAA,KAAK,GAAGD,GAAG,CAACD,GAAD,CAAX;AACA,aAAK,MAAMA,GAAX,IAAkB,KAAKA,GAAL,CAAlB;AACA,aAAKA,GAAL,IAAYE,KAAZ;AACD;AACF;;AAEDV,IAAAA,aAAa,CAACa,SAAd,CAAwBC,aAAxB,GAAwC,UAASP,OAAT,EAAkB;AACxD,UAAIQ,eAAJ,EAAqBN,GAArB,EAA0BO,IAA1B,EAAgCC,IAAhC,EAAsCC,IAAtC,EAA4CC,IAA5C,EAAkDC,IAAlD,EAAwDC,IAAxD;AACAd,MAAAA,OAAO,KAAKA,OAAO,GAAG,EAAf,CAAP;AACAA,MAAAA,OAAO,GAAGN,MAAM,CAAC,EAAD,EAAK,KAAKM,OAAV,EAAmBA,OAAnB,CAAhB;AACAQ,MAAAA,eAAe,GAAG;AAChBJ,QAAAA,MAAM,EAAE;AADQ,OAAlB;AAGAI,MAAAA,eAAe,CAACO,MAAhB,GAAyBf,OAAO,CAACe,MAAR,IAAkB,KAA3C;AACAP,MAAAA,eAAe,CAACQ,UAAhB,GAA6BhB,OAAO,CAACgB,UAAR,IAAsB,KAAnD;AACAR,MAAAA,eAAe,CAACS,MAAhB,GAAyB,CAACf,GAAG,GAAGF,OAAO,CAACiB,MAAf,KAA0B,IAA1B,GAAiCf,GAAjC,GAAuC,IAAhE;AACAM,MAAAA,eAAe,CAACU,OAAhB,GAA0B,CAACT,IAAI,GAAGT,OAAO,CAACkB,OAAhB,KAA4B,IAA5B,GAAmCT,IAAnC,GAA0C,IAApE;AACAD,MAAAA,eAAe,CAACW,MAAhB,GAAyB,CAACT,IAAI,GAAGV,OAAO,CAACmB,MAAhB,KAA2B,IAA3B,GAAkCT,IAAlC,GAAyC,CAAlE;AACAF,MAAAA,eAAe,CAACY,mBAAhB,GAAsC,CAACT,IAAI,GAAG,CAACC,IAAI,GAAGZ,OAAO,CAACoB,mBAAhB,KAAwC,IAAxC,GAA+CR,IAA/C,GAAsDZ,OAAO,CAACqB,mBAAtE,KAA8F,IAA9F,GAAqGV,IAArG,GAA4G,CAAlJ;AACAH,MAAAA,eAAe,CAACc,gBAAhB,GAAmC,CAACT,IAAI,GAAG,CAACC,IAAI,GAAGd,OAAO,CAACsB,gBAAhB,KAAqC,IAArC,GAA4CR,IAA5C,GAAmDd,OAAO,CAACuB,gBAAnE,KAAwF,IAAxF,GAA+FV,IAA/F,GAAsG,EAAzI;;AACA,UAAIL,eAAe,CAACc,gBAAhB,KAAqC,IAAzC,EAA+C;AAC7Cd,QAAAA,eAAe,CAACc,gBAAhB,GAAmC,GAAnC;AACD;;AACDd,MAAAA,eAAe,CAACgB,mBAAhB,GAAsC,CAAtC;AACAhB,MAAAA,eAAe,CAACiB,IAAhB,GAAuB,EAAvB;AACAjB,MAAAA,eAAe,CAACkB,KAAhB,GAAwB/C,WAAW,CAACgD,IAApC;AACA,aAAOnB,eAAP;AACD,KArBD;;AAuBAf,IAAAA,aAAa,CAACa,SAAd,CAAwBW,MAAxB,GAAiC,UAASW,IAAT,EAAe5B,OAAf,EAAwB6B,KAAxB,EAA+B;AAC9D,UAAIC,WAAJ;;AACA,UAAI,CAAC9B,OAAO,CAACe,MAAT,IAAmBf,OAAO,CAACwB,mBAA/B,EAAoD;AAClD,eAAO,EAAP;AACD,OAFD,MAEO,IAAIxB,OAAO,CAACe,MAAZ,EAAoB;AACzBe,QAAAA,WAAW,GAAG,CAACD,KAAK,IAAI,CAAV,IAAe7B,OAAO,CAACmB,MAAvB,GAAgC,CAA9C;;AACA,YAAIW,WAAW,GAAG,CAAlB,EAAqB;AACnB,iBAAO,IAAIC,KAAJ,CAAUD,WAAV,EAAuBE,IAAvB,CAA4BhC,OAAO,CAACiB,MAApC,CAAP;AACD;AACF;;AACD,aAAO,EAAP;AACD,KAXD;;AAaAxB,IAAAA,aAAa,CAACa,SAAd,CAAwB2B,OAAxB,GAAkC,UAASL,IAAT,EAAe5B,OAAf,EAAwB6B,KAAxB,EAA+B;AAC/D,UAAI,CAAC7B,OAAO,CAACe,MAAT,IAAmBf,OAAO,CAACwB,mBAA/B,EAAoD;AAClD,eAAO,EAAP;AACD,OAFD,MAEO;AACL,eAAOxB,OAAO,CAACkB,OAAf;AACD;AACF,KAND;;AAQAzB,IAAAA,aAAa,CAACa,SAAd,CAAwB4B,SAAxB,GAAoC,UAASC,GAAT,EAAcnC,OAAd,EAAuB6B,KAAvB,EAA8B;AAChE,UAAIO,CAAJ;AACA,WAAKC,aAAL,CAAmBF,GAAnB,EAAwBnC,OAAxB,EAAiC6B,KAAjC;AACAO,MAAAA,CAAC,GAAG,MAAMD,GAAG,CAACG,IAAV,GAAiB,IAAjB,GAAwBH,GAAG,CAAChC,KAA5B,GAAoC,GAAxC;AACA,WAAKoC,cAAL,CAAoBJ,GAApB,EAAyBnC,OAAzB,EAAkC6B,KAAlC;AACA,aAAOO,CAAP;AACD,KAND;;AAQA3C,IAAAA,aAAa,CAACa,SAAd,CAAwBkC,KAAxB,GAAgC,UAASZ,IAAT,EAAe5B,OAAf,EAAwB6B,KAAxB,EAA+B;AAC7D,UAAIO,CAAJ;AACA,WAAKK,QAAL,CAAcb,IAAd,EAAoB5B,OAApB,EAA6B6B,KAA7B;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAAC+D,OAA5B;AACAN,MAAAA,CAAC,GAAG,KAAKnB,MAAL,CAAYW,IAAZ,EAAkB5B,OAAlB,EAA2B6B,KAA3B,IAAoC,WAAxC;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgE,SAA5B;AACAP,MAAAA,CAAC,IAAIR,IAAI,CAACzB,KAAV;AACAH,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACiE,QAA5B;AACAR,MAAAA,CAAC,IAAI,QAAQ,KAAKH,OAAL,CAAaL,IAAb,EAAmB5B,OAAnB,EAA4B6B,KAA5B,CAAb;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgD,IAA5B;AACA,WAAKkB,SAAL,CAAejB,IAAf,EAAqB5B,OAArB,EAA8B6B,KAA9B;AACA,aAAOO,CAAP;AACD,KAZD;;AAcA3C,IAAAA,aAAa,CAACa,SAAd,CAAwBwC,OAAxB,GAAkC,UAASlB,IAAT,EAAe5B,OAAf,EAAwB6B,KAAxB,EAA+B;AAC/D,UAAIO,CAAJ;AACA,WAAKK,QAAL,CAAcb,IAAd,EAAoB5B,OAApB,EAA6B6B,KAA7B;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAAC+D,OAA5B;AACAN,MAAAA,CAAC,GAAG,KAAKnB,MAAL,CAAYW,IAAZ,EAAkB5B,OAAlB,EAA2B6B,KAA3B,IAAoC,OAAxC;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgE,SAA5B;AACAP,MAAAA,CAAC,IAAIR,IAAI,CAACzB,KAAV;AACAH,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACiE,QAA5B;AACAR,MAAAA,CAAC,IAAI,SAAS,KAAKH,OAAL,CAAaL,IAAb,EAAmB5B,OAAnB,EAA4B6B,KAA5B,CAAd;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgD,IAA5B;AACA,WAAKkB,SAAL,CAAejB,IAAf,EAAqB5B,OAArB,EAA8B6B,KAA9B;AACA,aAAOO,CAAP;AACD,KAZD;;AAcA3C,IAAAA,aAAa,CAACa,SAAd,CAAwByC,WAAxB,GAAsC,UAASnB,IAAT,EAAe5B,OAAf,EAAwB6B,KAAxB,EAA+B;AACnE,UAAIO,CAAJ;AACA,WAAKK,QAAL,CAAcb,IAAd,EAAoB5B,OAApB,EAA6B6B,KAA7B;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAAC+D,OAA5B;AACAN,MAAAA,CAAC,GAAG,KAAKnB,MAAL,CAAYW,IAAZ,EAAkB5B,OAAlB,EAA2B6B,KAA3B,IAAoC,OAAxC;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgE,SAA5B;AACAP,MAAAA,CAAC,IAAI,eAAeR,IAAI,CAACoB,OAApB,GAA8B,GAAnC;;AACA,UAAIpB,IAAI,CAACqB,QAAL,IAAiB,IAArB,EAA2B;AACzBb,QAAAA,CAAC,IAAI,gBAAgBR,IAAI,CAACqB,QAArB,GAAgC,GAArC;AACD;;AACD,UAAIrB,IAAI,CAACsB,UAAL,IAAmB,IAAvB,EAA6B;AAC3Bd,QAAAA,CAAC,IAAI,kBAAkBR,IAAI,CAACsB,UAAvB,GAAoC,GAAzC;AACD;;AACDlD,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACiE,QAA5B;AACAR,MAAAA,CAAC,IAAIpC,OAAO,CAACsB,gBAAR,GAA2B,IAAhC;AACAc,MAAAA,CAAC,IAAI,KAAKH,OAAL,CAAaL,IAAb,EAAmB5B,OAAnB,EAA4B6B,KAA5B,CAAL;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgD,IAA5B;AACA,WAAKkB,SAAL,CAAejB,IAAf,EAAqB5B,OAArB,EAA8B6B,KAA9B;AACA,aAAOO,CAAP;AACD,KAnBD;;AAqBA3C,IAAAA,aAAa,CAACa,SAAd,CAAwB6C,OAAxB,GAAkC,UAASvB,IAAT,EAAe5B,OAAf,EAAwB6B,KAAxB,EAA+B;AAC/D,UAAIuB,KAAJ,EAAWC,CAAX,EAAcC,GAAd,EAAmBlB,CAAnB,EAAsBlC,GAAtB;AACA2B,MAAAA,KAAK,KAAKA,KAAK,GAAG,CAAb,CAAL;AACA,WAAKY,QAAL,CAAcb,IAAd,EAAoB5B,OAApB,EAA6B6B,KAA7B;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAAC+D,OAA5B;AACAN,MAAAA,CAAC,GAAG,KAAKnB,MAAL,CAAYW,IAAZ,EAAkB5B,OAAlB,EAA2B6B,KAA3B,CAAJ;AACAO,MAAAA,CAAC,IAAI,eAAeR,IAAI,CAAC2B,IAAL,GAAYjB,IAAhC;;AACA,UAAIV,IAAI,CAAC4B,KAAL,IAAc5B,IAAI,CAAC6B,KAAvB,EAA8B;AAC5BrB,QAAAA,CAAC,IAAI,cAAcR,IAAI,CAAC4B,KAAnB,GAA2B,KAA3B,GAAmC5B,IAAI,CAAC6B,KAAxC,GAAgD,GAArD;AACD,OAFD,MAEO,IAAI7B,IAAI,CAAC6B,KAAT,EAAgB;AACrBrB,QAAAA,CAAC,IAAI,cAAcR,IAAI,CAAC6B,KAAnB,GAA2B,GAAhC;AACD;;AACD,UAAI7B,IAAI,CAAC8B,QAAL,CAAcC,MAAd,GAAuB,CAA3B,EAA8B;AAC5BvB,QAAAA,CAAC,IAAI,IAAL;AACAA,QAAAA,CAAC,IAAI,KAAKH,OAAL,CAAaL,IAAb,EAAmB5B,OAAnB,EAA4B6B,KAA5B,CAAL;AACA7B,QAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgE,SAA5B;AACAzC,QAAAA,GAAG,GAAG0B,IAAI,CAAC8B,QAAX;;AACA,aAAKL,CAAC,GAAG,CAAJ,EAAOC,GAAG,GAAGpD,GAAG,CAACyD,MAAtB,EAA8BN,CAAC,GAAGC,GAAlC,EAAuCD,CAAC,EAAxC,EAA4C;AAC1CD,UAAAA,KAAK,GAAGlD,GAAG,CAACmD,CAAD,CAAX;AACAjB,UAAAA,CAAC,IAAI,KAAKwB,cAAL,CAAoBR,KAApB,EAA2BpD,OAA3B,EAAoC6B,KAAK,GAAG,CAA5C,CAAL;AACD;;AACD7B,QAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACiE,QAA5B;AACAR,QAAAA,CAAC,IAAI,GAAL;AACD;;AACDpC,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACiE,QAA5B;AACAR,MAAAA,CAAC,IAAIpC,OAAO,CAACsB,gBAAR,GAA2B,GAAhC;AACAc,MAAAA,CAAC,IAAI,KAAKH,OAAL,CAAaL,IAAb,EAAmB5B,OAAnB,EAA4B6B,KAA5B,CAAL;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgD,IAA5B;AACA,WAAKkB,SAAL,CAAejB,IAAf,EAAqB5B,OAArB,EAA8B6B,KAA9B;AACA,aAAOO,CAAP;AACD,KA9BD;;AAgCA3C,IAAAA,aAAa,CAACa,SAAd,CAAwBuD,OAAxB,GAAkC,UAASjC,IAAT,EAAe5B,OAAf,EAAwB6B,KAAxB,EAA+B;AAC/D,UAAIM,GAAJ,EAASiB,KAAT,EAAgBU,cAAhB,EAAgCC,cAAhC,EAAgDV,CAAhD,EAAmDW,CAAnD,EAAsDV,GAAtD,EAA2DW,IAA3D,EAAiE3B,IAAjE,EAAuE4B,gBAAvE,EAAyF9B,CAAzF,EAA4FlC,GAA5F,EAAiGO,IAAjG,EAAuGC,IAAvG;AACAmB,MAAAA,KAAK,KAAKA,KAAK,GAAG,CAAb,CAAL;AACAqC,MAAAA,gBAAgB,GAAG,KAAnB;AACA9B,MAAAA,CAAC,GAAG,EAAJ;AACA,WAAKK,QAAL,CAAcb,IAAd,EAAoB5B,OAApB,EAA6B6B,KAA7B;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAAC+D,OAA5B;AACAN,MAAAA,CAAC,IAAI,KAAKnB,MAAL,CAAYW,IAAZ,EAAkB5B,OAAlB,EAA2B6B,KAA3B,IAAoC,GAApC,GAA0CD,IAAI,CAACU,IAApD;AACApC,MAAAA,GAAG,GAAG0B,IAAI,CAACuC,OAAX;;AACA,WAAK7B,IAAL,IAAapC,GAAb,EAAkB;AAChB,YAAI,CAACP,OAAO,CAACU,IAAR,CAAaH,GAAb,EAAkBoC,IAAlB,CAAL,EAA8B;AAC9BH,QAAAA,GAAG,GAAGjC,GAAG,CAACoC,IAAD,CAAT;AACAF,QAAAA,CAAC,IAAI,KAAKF,SAAL,CAAeC,GAAf,EAAoBnC,OAApB,EAA6B6B,KAA7B,CAAL;AACD;;AACDiC,MAAAA,cAAc,GAAGlC,IAAI,CAAC8B,QAAL,CAAcC,MAA/B;AACAI,MAAAA,cAAc,GAAGD,cAAc,KAAK,CAAnB,GAAuB,IAAvB,GAA8BlC,IAAI,CAAC8B,QAAL,CAAc,CAAd,CAA/C;;AACA,UAAII,cAAc,KAAK,CAAnB,IAAwBlC,IAAI,CAAC8B,QAAL,CAAcU,KAAd,CAAoB,UAASC,CAAT,EAAY;AAC1D,eAAO,CAACA,CAAC,CAACC,IAAF,KAAW5F,QAAQ,CAAC6F,IAApB,IAA4BF,CAAC,CAACC,IAAF,KAAW5F,QAAQ,CAAC8F,GAAjD,KAAyDH,CAAC,CAAClE,KAAF,KAAY,EAA5E;AACD,OAF2B,CAA5B,EAEI;AACF,YAAIH,OAAO,CAACgB,UAAZ,EAAwB;AACtBoB,UAAAA,CAAC,IAAI,GAAL;AACApC,UAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACiE,QAA5B;AACAR,UAAAA,CAAC,IAAI,OAAOR,IAAI,CAACU,IAAZ,GAAmB,GAAnB,GAAyB,KAAKL,OAAL,CAAaL,IAAb,EAAmB5B,OAAnB,EAA4B6B,KAA5B,CAA9B;AACD,SAJD,MAIO;AACL7B,UAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACiE,QAA5B;AACAR,UAAAA,CAAC,IAAIpC,OAAO,CAACsB,gBAAR,GAA2B,IAA3B,GAAkC,KAAKW,OAAL,CAAaL,IAAb,EAAmB5B,OAAnB,EAA4B6B,KAA5B,CAAvC;AACD;AACF,OAXD,MAWO,IAAI7B,OAAO,CAACe,MAAR,IAAkB+C,cAAc,KAAK,CAArC,KAA2CC,cAAc,CAACO,IAAf,KAAwB5F,QAAQ,CAAC6F,IAAjC,IAAyCR,cAAc,CAACO,IAAf,KAAwB5F,QAAQ,CAAC8F,GAArH,KAA8HT,cAAc,CAAC5D,KAAf,IAAwB,IAA1J,EAAiK;AACtKiC,QAAAA,CAAC,IAAI,GAAL;AACApC,QAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgE,SAA5B;AACA3C,QAAAA,OAAO,CAACwB,mBAAR;AACA0C,QAAAA,gBAAgB,GAAG,IAAnB;AACA9B,QAAAA,CAAC,IAAI,KAAKwB,cAAL,CAAoBG,cAApB,EAAoC/D,OAApC,EAA6C6B,KAAK,GAAG,CAArD,CAAL;AACA7B,QAAAA,OAAO,CAACwB,mBAAR;AACA0C,QAAAA,gBAAgB,GAAG,KAAnB;AACAlE,QAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACiE,QAA5B;AACAR,QAAAA,CAAC,IAAI,OAAOR,IAAI,CAACU,IAAZ,GAAmB,GAAnB,GAAyB,KAAKL,OAAL,CAAaL,IAAb,EAAmB5B,OAAnB,EAA4B6B,KAA5B,CAA9B;AACD,OAVM,MAUA;AACL,YAAI7B,OAAO,CAACoB,mBAAZ,EAAiC;AAC/BX,UAAAA,IAAI,GAAGmB,IAAI,CAAC8B,QAAZ;;AACA,eAAKL,CAAC,GAAG,CAAJ,EAAOC,GAAG,GAAG7C,IAAI,CAACkD,MAAvB,EAA+BN,CAAC,GAAGC,GAAnC,EAAwCD,CAAC,EAAzC,EAA6C;AAC3CD,YAAAA,KAAK,GAAG3C,IAAI,CAAC4C,CAAD,CAAZ;;AACA,gBAAI,CAACD,KAAK,CAACkB,IAAN,KAAe5F,QAAQ,CAAC6F,IAAxB,IAAgCnB,KAAK,CAACkB,IAAN,KAAe5F,QAAQ,CAAC8F,GAAzD,KAAkEpB,KAAK,CAACjD,KAAN,IAAe,IAArF,EAA4F;AAC1FH,cAAAA,OAAO,CAACwB,mBAAR;AACA0C,cAAAA,gBAAgB,GAAG,IAAnB;AACA;AACD;AACF;AACF;;AACD9B,QAAAA,CAAC,IAAI,MAAM,KAAKH,OAAL,CAAaL,IAAb,EAAmB5B,OAAnB,EAA4B6B,KAA5B,CAAX;AACA7B,QAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgE,SAA5B;AACAjC,QAAAA,IAAI,GAAGkB,IAAI,CAAC8B,QAAZ;;AACA,aAAKM,CAAC,GAAG,CAAJ,EAAOC,IAAI,GAAGvD,IAAI,CAACiD,MAAxB,EAAgCK,CAAC,GAAGC,IAApC,EAA0CD,CAAC,EAA3C,EAA+C;AAC7CZ,UAAAA,KAAK,GAAG1C,IAAI,CAACsD,CAAD,CAAZ;AACA5B,UAAAA,CAAC,IAAI,KAAKwB,cAAL,CAAoBR,KAApB,EAA2BpD,OAA3B,EAAoC6B,KAAK,GAAG,CAA5C,CAAL;AACD;;AACD7B,QAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACiE,QAA5B;AACAR,QAAAA,CAAC,IAAI,KAAKnB,MAAL,CAAYW,IAAZ,EAAkB5B,OAAlB,EAA2B6B,KAA3B,IAAoC,IAApC,GAA2CD,IAAI,CAACU,IAAhD,GAAuD,GAA5D;;AACA,YAAI4B,gBAAJ,EAAsB;AACpBlE,UAAAA,OAAO,CAACwB,mBAAR;AACD;;AACDY,QAAAA,CAAC,IAAI,KAAKH,OAAL,CAAaL,IAAb,EAAmB5B,OAAnB,EAA4B6B,KAA5B,CAAL;AACA7B,QAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgD,IAA5B;AACD;;AACD,WAAKkB,SAAL,CAAejB,IAAf,EAAqB5B,OAArB,EAA8B6B,KAA9B;AACA,aAAOO,CAAP;AACD,KAlED;;AAoEA3C,IAAAA,aAAa,CAACa,SAAd,CAAwBsD,cAAxB,GAAyC,UAAShC,IAAT,EAAe5B,OAAf,EAAwB6B,KAAxB,EAA+B;AACtE,cAAQD,IAAI,CAAC0C,IAAb;AACE,aAAK5F,QAAQ,CAAC+F,KAAd;AACE,iBAAO,KAAKjC,KAAL,CAAWZ,IAAX,EAAiB5B,OAAjB,EAA0B6B,KAA1B,CAAP;;AACF,aAAKnD,QAAQ,CAACgG,OAAd;AACE,iBAAO,KAAK5B,OAAL,CAAalB,IAAb,EAAmB5B,OAAnB,EAA4B6B,KAA5B,CAAP;;AACF,aAAKnD,QAAQ,CAACiG,OAAd;AACE,iBAAO,KAAKd,OAAL,CAAajC,IAAb,EAAmB5B,OAAnB,EAA4B6B,KAA5B,CAAP;;AACF,aAAKnD,QAAQ,CAAC8F,GAAd;AACE,iBAAO,KAAKI,GAAL,CAAShD,IAAT,EAAe5B,OAAf,EAAwB6B,KAAxB,CAAP;;AACF,aAAKnD,QAAQ,CAAC6F,IAAd;AACE,iBAAO,KAAKM,IAAL,CAAUjD,IAAV,EAAgB5B,OAAhB,EAAyB6B,KAAzB,CAAP;;AACF,aAAKnD,QAAQ,CAACoG,qBAAd;AACE,iBAAO,KAAKC,qBAAL,CAA2BnD,IAA3B,EAAiC5B,OAAjC,EAA0C6B,KAA1C,CAAP;;AACF,aAAKnD,QAAQ,CAACsG,KAAd;AACE,iBAAO,EAAP;;AACF,aAAKtG,QAAQ,CAACuG,WAAd;AACE,iBAAO,KAAKlC,WAAL,CAAiBnB,IAAjB,EAAuB5B,OAAvB,EAAgC6B,KAAhC,CAAP;;AACF,aAAKnD,QAAQ,CAACwG,OAAd;AACE,iBAAO,KAAK/B,OAAL,CAAavB,IAAb,EAAmB5B,OAAnB,EAA4B6B,KAA5B,CAAP;;AACF,aAAKnD,QAAQ,CAACyG,oBAAd;AACE,iBAAO,KAAKC,UAAL,CAAgBxD,IAAhB,EAAsB5B,OAAtB,EAA+B6B,KAA/B,CAAP;;AACF,aAAKnD,QAAQ,CAAC2G,kBAAd;AACE,iBAAO,KAAKC,UAAL,CAAgB1D,IAAhB,EAAsB5B,OAAtB,EAA+B6B,KAA/B,CAAP;;AACF,aAAKnD,QAAQ,CAAC6G,iBAAd;AACE,iBAAO,KAAKC,SAAL,CAAe5D,IAAf,EAAqB5B,OAArB,EAA8B6B,KAA9B,CAAP;;AACF,aAAKnD,QAAQ,CAAC+G,mBAAd;AACE,iBAAO,KAAKC,WAAL,CAAiB9D,IAAjB,EAAuB5B,OAAvB,EAAgC6B,KAAhC,CAAP;;AACF;AACE,gBAAM,IAAI8D,KAAJ,CAAU,4BAA4B/D,IAAI,CAACgE,WAAL,CAAiBtD,IAAvD,CAAN;AA5BJ;AA8BD,KA/BD;;AAiCA7C,IAAAA,aAAa,CAACa,SAAd,CAAwByE,qBAAxB,GAAgD,UAASnD,IAAT,EAAe5B,OAAf,EAAwB6B,KAAxB,EAA+B;AAC7E,UAAIO,CAAJ;AACA,WAAKK,QAAL,CAAcb,IAAd,EAAoB5B,OAApB,EAA6B6B,KAA7B;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAAC+D,OAA5B;AACAN,MAAAA,CAAC,GAAG,KAAKnB,MAAL,CAAYW,IAAZ,EAAkB5B,OAAlB,EAA2B6B,KAA3B,IAAoC,IAAxC;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgE,SAA5B;AACAP,MAAAA,CAAC,IAAIR,IAAI,CAACiE,MAAV;;AACA,UAAIjE,IAAI,CAACzB,KAAT,EAAgB;AACdiC,QAAAA,CAAC,IAAI,MAAMR,IAAI,CAACzB,KAAhB;AACD;;AACDH,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACiE,QAA5B;AACAR,MAAAA,CAAC,IAAIpC,OAAO,CAACsB,gBAAR,GAA2B,IAAhC;AACAc,MAAAA,CAAC,IAAI,KAAKH,OAAL,CAAaL,IAAb,EAAmB5B,OAAnB,EAA4B6B,KAA5B,CAAL;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgD,IAA5B;AACA,WAAKkB,SAAL,CAAejB,IAAf,EAAqB5B,OAArB,EAA8B6B,KAA9B;AACA,aAAOO,CAAP;AACD,KAhBD;;AAkBA3C,IAAAA,aAAa,CAACa,SAAd,CAAwBsE,GAAxB,GAA8B,UAAShD,IAAT,EAAe5B,OAAf,EAAwB6B,KAAxB,EAA+B;AAC3D,UAAIO,CAAJ;AACA,WAAKK,QAAL,CAAcb,IAAd,EAAoB5B,OAApB,EAA6B6B,KAA7B;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAAC+D,OAA5B;AACAN,MAAAA,CAAC,GAAG,KAAKnB,MAAL,CAAYW,IAAZ,EAAkB5B,OAAlB,EAA2B6B,KAA3B,CAAJ;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgE,SAA5B;AACAP,MAAAA,CAAC,IAAIR,IAAI,CAACzB,KAAV;AACAH,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACiE,QAA5B;AACAR,MAAAA,CAAC,IAAI,KAAKH,OAAL,CAAaL,IAAb,EAAmB5B,OAAnB,EAA4B6B,KAA5B,CAAL;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgD,IAA5B;AACA,WAAKkB,SAAL,CAAejB,IAAf,EAAqB5B,OAArB,EAA8B6B,KAA9B;AACA,aAAOO,CAAP;AACD,KAZD;;AAcA3C,IAAAA,aAAa,CAACa,SAAd,CAAwBuE,IAAxB,GAA+B,UAASjD,IAAT,EAAe5B,OAAf,EAAwB6B,KAAxB,EAA+B;AAC5D,UAAIO,CAAJ;AACA,WAAKK,QAAL,CAAcb,IAAd,EAAoB5B,OAApB,EAA6B6B,KAA7B;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAAC+D,OAA5B;AACAN,MAAAA,CAAC,GAAG,KAAKnB,MAAL,CAAYW,IAAZ,EAAkB5B,OAAlB,EAA2B6B,KAA3B,CAAJ;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgE,SAA5B;AACAP,MAAAA,CAAC,IAAIR,IAAI,CAACzB,KAAV;AACAH,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACiE,QAA5B;AACAR,MAAAA,CAAC,IAAI,KAAKH,OAAL,CAAaL,IAAb,EAAmB5B,OAAnB,EAA4B6B,KAA5B,CAAL;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgD,IAA5B;AACA,WAAKkB,SAAL,CAAejB,IAAf,EAAqB5B,OAArB,EAA8B6B,KAA9B;AACA,aAAOO,CAAP;AACD,KAZD;;AAcA3C,IAAAA,aAAa,CAACa,SAAd,CAAwB8E,UAAxB,GAAqC,UAASxD,IAAT,EAAe5B,OAAf,EAAwB6B,KAAxB,EAA+B;AAClE,UAAIO,CAAJ;AACA,WAAKK,QAAL,CAAcb,IAAd,EAAoB5B,OAApB,EAA6B6B,KAA7B;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAAC+D,OAA5B;AACAN,MAAAA,CAAC,GAAG,KAAKnB,MAAL,CAAYW,IAAZ,EAAkB5B,OAAlB,EAA2B6B,KAA3B,IAAoC,WAAxC;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgE,SAA5B;AACAP,MAAAA,CAAC,IAAI,MAAMR,IAAI,CAACkE,WAAX,GAAyB,GAAzB,GAA+BlE,IAAI,CAACmE,aAApC,GAAoD,GAApD,GAA0DnE,IAAI,CAACoE,aAApE;;AACA,UAAIpE,IAAI,CAACqE,gBAAL,KAA0B,UAA9B,EAA0C;AACxC7D,QAAAA,CAAC,IAAI,MAAMR,IAAI,CAACqE,gBAAhB;AACD;;AACD,UAAIrE,IAAI,CAACsE,YAAT,EAAuB;AACrB9D,QAAAA,CAAC,IAAI,OAAOR,IAAI,CAACsE,YAAZ,GAA2B,GAAhC;AACD;;AACDlG,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACiE,QAA5B;AACAR,MAAAA,CAAC,IAAIpC,OAAO,CAACsB,gBAAR,GAA2B,GAA3B,GAAiC,KAAKW,OAAL,CAAaL,IAAb,EAAmB5B,OAAnB,EAA4B6B,KAA5B,CAAtC;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgD,IAA5B;AACA,WAAKkB,SAAL,CAAejB,IAAf,EAAqB5B,OAArB,EAA8B6B,KAA9B;AACA,aAAOO,CAAP;AACD,KAlBD;;AAoBA3C,IAAAA,aAAa,CAACa,SAAd,CAAwBgF,UAAxB,GAAqC,UAAS1D,IAAT,EAAe5B,OAAf,EAAwB6B,KAAxB,EAA+B;AAClE,UAAIO,CAAJ;AACA,WAAKK,QAAL,CAAcb,IAAd,EAAoB5B,OAApB,EAA6B6B,KAA7B;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAAC+D,OAA5B;AACAN,MAAAA,CAAC,GAAG,KAAKnB,MAAL,CAAYW,IAAZ,EAAkB5B,OAAlB,EAA2B6B,KAA3B,IAAoC,WAAxC;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgE,SAA5B;AACAP,MAAAA,CAAC,IAAI,MAAMR,IAAI,CAACU,IAAX,GAAkB,GAAlB,GAAwBV,IAAI,CAACzB,KAAlC;AACAH,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACiE,QAA5B;AACAR,MAAAA,CAAC,IAAIpC,OAAO,CAACsB,gBAAR,GAA2B,GAA3B,GAAiC,KAAKW,OAAL,CAAaL,IAAb,EAAmB5B,OAAnB,EAA4B6B,KAA5B,CAAtC;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgD,IAA5B;AACA,WAAKkB,SAAL,CAAejB,IAAf,EAAqB5B,OAArB,EAA8B6B,KAA9B;AACA,aAAOO,CAAP;AACD,KAZD;;AAcA3C,IAAAA,aAAa,CAACa,SAAd,CAAwBkF,SAAxB,GAAoC,UAAS5D,IAAT,EAAe5B,OAAf,EAAwB6B,KAAxB,EAA+B;AACjE,UAAIO,CAAJ;AACA,WAAKK,QAAL,CAAcb,IAAd,EAAoB5B,OAApB,EAA6B6B,KAA7B;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAAC+D,OAA5B;AACAN,MAAAA,CAAC,GAAG,KAAKnB,MAAL,CAAYW,IAAZ,EAAkB5B,OAAlB,EAA2B6B,KAA3B,IAAoC,UAAxC;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgE,SAA5B;;AACA,UAAIf,IAAI,CAACuE,EAAT,EAAa;AACX/D,QAAAA,CAAC,IAAI,IAAL;AACD;;AACDA,MAAAA,CAAC,IAAI,MAAMR,IAAI,CAACU,IAAhB;;AACA,UAAIV,IAAI,CAACzB,KAAT,EAAgB;AACdiC,QAAAA,CAAC,IAAI,OAAOR,IAAI,CAACzB,KAAZ,GAAoB,GAAzB;AACD,OAFD,MAEO;AACL,YAAIyB,IAAI,CAAC4B,KAAL,IAAc5B,IAAI,CAAC6B,KAAvB,EAA8B;AAC5BrB,UAAAA,CAAC,IAAI,cAAcR,IAAI,CAAC4B,KAAnB,GAA2B,KAA3B,GAAmC5B,IAAI,CAAC6B,KAAxC,GAAgD,GAArD;AACD,SAFD,MAEO,IAAI7B,IAAI,CAAC6B,KAAT,EAAgB;AACrBrB,UAAAA,CAAC,IAAI,cAAcR,IAAI,CAAC6B,KAAnB,GAA2B,GAAhC;AACD;;AACD,YAAI7B,IAAI,CAACwE,KAAT,EAAgB;AACdhE,UAAAA,CAAC,IAAI,YAAYR,IAAI,CAACwE,KAAtB;AACD;AACF;;AACDpG,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACiE,QAA5B;AACAR,MAAAA,CAAC,IAAIpC,OAAO,CAACsB,gBAAR,GAA2B,GAA3B,GAAiC,KAAKW,OAAL,CAAaL,IAAb,EAAmB5B,OAAnB,EAA4B6B,KAA5B,CAAtC;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgD,IAA5B;AACA,WAAKkB,SAAL,CAAejB,IAAf,EAAqB5B,OAArB,EAA8B6B,KAA9B;AACA,aAAOO,CAAP;AACD,KA3BD;;AA6BA3C,IAAAA,aAAa,CAACa,SAAd,CAAwBoF,WAAxB,GAAsC,UAAS9D,IAAT,EAAe5B,OAAf,EAAwB6B,KAAxB,EAA+B;AACnE,UAAIO,CAAJ;AACA,WAAKK,QAAL,CAAcb,IAAd,EAAoB5B,OAApB,EAA6B6B,KAA7B;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAAC+D,OAA5B;AACAN,MAAAA,CAAC,GAAG,KAAKnB,MAAL,CAAYW,IAAZ,EAAkB5B,OAAlB,EAA2B6B,KAA3B,IAAoC,YAAxC;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgE,SAA5B;AACAP,MAAAA,CAAC,IAAI,MAAMR,IAAI,CAACU,IAAhB;;AACA,UAAIV,IAAI,CAAC4B,KAAL,IAAc5B,IAAI,CAAC6B,KAAvB,EAA8B;AAC5BrB,QAAAA,CAAC,IAAI,cAAcR,IAAI,CAAC4B,KAAnB,GAA2B,KAA3B,GAAmC5B,IAAI,CAAC6B,KAAxC,GAAgD,GAArD;AACD,OAFD,MAEO,IAAI7B,IAAI,CAAC4B,KAAT,EAAgB;AACrBpB,QAAAA,CAAC,IAAI,cAAcR,IAAI,CAAC4B,KAAnB,GAA2B,GAAhC;AACD,OAFM,MAEA,IAAI5B,IAAI,CAAC6B,KAAT,EAAgB;AACrBrB,QAAAA,CAAC,IAAI,cAAcR,IAAI,CAAC6B,KAAnB,GAA2B,GAAhC;AACD;;AACDzD,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACiE,QAA5B;AACAR,MAAAA,CAAC,IAAIpC,OAAO,CAACsB,gBAAR,GAA2B,GAA3B,GAAiC,KAAKW,OAAL,CAAaL,IAAb,EAAmB5B,OAAnB,EAA4B6B,KAA5B,CAAtC;AACA7B,MAAAA,OAAO,CAAC0B,KAAR,GAAgB/C,WAAW,CAACgD,IAA5B;AACA,WAAKkB,SAAL,CAAejB,IAAf,EAAqB5B,OAArB,EAA8B6B,KAA9B;AACA,aAAOO,CAAP;AACD,KAnBD;;AAqBA3C,IAAAA,aAAa,CAACa,SAAd,CAAwBmC,QAAxB,GAAmC,UAASb,IAAT,EAAe5B,OAAf,EAAwB6B,KAAxB,EAA+B,CAAE,CAApE;;AAEApC,IAAAA,aAAa,CAACa,SAAd,CAAwBuC,SAAxB,GAAoC,UAASjB,IAAT,EAAe5B,OAAf,EAAwB6B,KAAxB,EAA+B,CAAE,CAArE;;AAEApC,IAAAA,aAAa,CAACa,SAAd,CAAwB+B,aAAxB,GAAwC,UAASF,GAAT,EAAcnC,OAAd,EAAuB6B,KAAvB,EAA8B,CAAE,CAAxE;;AAEApC,IAAAA,aAAa,CAACa,SAAd,CAAwBiC,cAAxB,GAAyC,UAASJ,GAAT,EAAcnC,OAAd,EAAuB6B,KAAvB,EAA8B,CAAE,CAAzE;;AAEA,WAAOpC,aAAP;AAED,GApYgC,EAAjC;AAsYD,CA1aD,EA0aGY,IA1aH,CA0aQ,IA1aR","sourcesContent":["// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLDummy, XMLElement, XMLProcessingInstruction, XMLRaw, XMLText, XMLWriterBase, assign,\n    hasProp = {}.hasOwnProperty;\n\n  assign = require('./Utility').assign;\n\n  NodeType = require('./NodeType');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLElement = require('./XMLElement');\n\n  XMLRaw = require('./XMLRaw');\n\n  XMLText = require('./XMLText');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  XMLDummy = require('./XMLDummy');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  WriterState = require('./WriterState');\n\n  module.exports = XMLWriterBase = (function() {\n    function XMLWriterBase(options) {\n      var key, ref, value;\n      options || (options = {});\n      this.options = options;\n      ref = options.writer || {};\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this[\"_\" + key] = this[key];\n        this[key] = value;\n      }\n    }\n\n    XMLWriterBase.prototype.filterOptions = function(options) {\n      var filteredOptions, ref, ref1, ref2, ref3, ref4, ref5, ref6;\n      options || (options = {});\n      options = assign({}, this.options, options);\n      filteredOptions = {\n        writer: this\n      };\n      filteredOptions.pretty = options.pretty || false;\n      filteredOptions.allowEmpty = options.allowEmpty || false;\n      filteredOptions.indent = (ref = options.indent) != null ? ref : '  ';\n      filteredOptions.newline = (ref1 = options.newline) != null ? ref1 : '\\n';\n      filteredOptions.offset = (ref2 = options.offset) != null ? ref2 : 0;\n      filteredOptions.dontPrettyTextNodes = (ref3 = (ref4 = options.dontPrettyTextNodes) != null ? ref4 : options.dontprettytextnodes) != null ? ref3 : 0;\n      filteredOptions.spaceBeforeSlash = (ref5 = (ref6 = options.spaceBeforeSlash) != null ? ref6 : options.spacebeforeslash) != null ? ref5 : '';\n      if (filteredOptions.spaceBeforeSlash === true) {\n        filteredOptions.spaceBeforeSlash = ' ';\n      }\n      filteredOptions.suppressPrettyCount = 0;\n      filteredOptions.user = {};\n      filteredOptions.state = WriterState.None;\n      return filteredOptions;\n    };\n\n    XMLWriterBase.prototype.indent = function(node, options, level) {\n      var indentLevel;\n      if (!options.pretty || options.suppressPrettyCount) {\n        return '';\n      } else if (options.pretty) {\n        indentLevel = (level || 0) + options.offset + 1;\n        if (indentLevel > 0) {\n          return new Array(indentLevel).join(options.indent);\n        }\n      }\n      return '';\n    };\n\n    XMLWriterBase.prototype.endline = function(node, options, level) {\n      if (!options.pretty || options.suppressPrettyCount) {\n        return '';\n      } else {\n        return options.newline;\n      }\n    };\n\n    XMLWriterBase.prototype.attribute = function(att, options, level) {\n      var r;\n      this.openAttribute(att, options, level);\n      r = ' ' + att.name + '=\"' + att.value + '\"';\n      this.closeAttribute(att, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.cdata = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<![CDATA[';\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += ']]>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.comment = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!-- ';\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += ' -->' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.declaration = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<?xml';\n      options.state = WriterState.InsideTag;\n      r += ' version=\"' + node.version + '\"';\n      if (node.encoding != null) {\n        r += ' encoding=\"' + node.encoding + '\"';\n      }\n      if (node.standalone != null) {\n        r += ' standalone=\"' + node.standalone + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '?>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.docType = function(node, options, level) {\n      var child, i, len, r, ref;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      r += '<!DOCTYPE ' + node.root().name;\n      if (node.pubID && node.sysID) {\n        r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n      } else if (node.sysID) {\n        r += ' SYSTEM \"' + node.sysID + '\"';\n      }\n      if (node.children.length > 0) {\n        r += ' [';\n        r += this.endline(node, options, level);\n        options.state = WriterState.InsideTag;\n        ref = node.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          r += this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        r += ']';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.element = function(node, options, level) {\n      var att, child, childNodeCount, firstChildNode, i, j, len, len1, name, prettySuppressed, r, ref, ref1, ref2;\n      level || (level = 0);\n      prettySuppressed = false;\n      r = '';\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r += this.indent(node, options, level) + '<' + node.name;\n      ref = node.attribs;\n      for (name in ref) {\n        if (!hasProp.call(ref, name)) continue;\n        att = ref[name];\n        r += this.attribute(att, options, level);\n      }\n      childNodeCount = node.children.length;\n      firstChildNode = childNodeCount === 0 ? null : node.children[0];\n      if (childNodeCount === 0 || node.children.every(function(e) {\n        return (e.type === NodeType.Text || e.type === NodeType.Raw) && e.value === '';\n      })) {\n        if (options.allowEmpty) {\n          r += '>';\n          options.state = WriterState.CloseTag;\n          r += '</' + node.name + '>' + this.endline(node, options, level);\n        } else {\n          options.state = WriterState.CloseTag;\n          r += options.spaceBeforeSlash + '/>' + this.endline(node, options, level);\n        }\n      } else if (options.pretty && childNodeCount === 1 && (firstChildNode.type === NodeType.Text || firstChildNode.type === NodeType.Raw) && (firstChildNode.value != null)) {\n        r += '>';\n        options.state = WriterState.InsideTag;\n        options.suppressPrettyCount++;\n        prettySuppressed = true;\n        r += this.writeChildNode(firstChildNode, options, level + 1);\n        options.suppressPrettyCount--;\n        prettySuppressed = false;\n        options.state = WriterState.CloseTag;\n        r += '</' + node.name + '>' + this.endline(node, options, level);\n      } else {\n        if (options.dontPrettyTextNodes) {\n          ref1 = node.children;\n          for (i = 0, len = ref1.length; i < len; i++) {\n            child = ref1[i];\n            if ((child.type === NodeType.Text || child.type === NodeType.Raw) && (child.value != null)) {\n              options.suppressPrettyCount++;\n              prettySuppressed = true;\n              break;\n            }\n          }\n        }\n        r += '>' + this.endline(node, options, level);\n        options.state = WriterState.InsideTag;\n        ref2 = node.children;\n        for (j = 0, len1 = ref2.length; j < len1; j++) {\n          child = ref2[j];\n          r += this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        r += this.indent(node, options, level) + '</' + node.name + '>';\n        if (prettySuppressed) {\n          options.suppressPrettyCount--;\n        }\n        r += this.endline(node, options, level);\n        options.state = WriterState.None;\n      }\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.writeChildNode = function(node, options, level) {\n      switch (node.type) {\n        case NodeType.CData:\n          return this.cdata(node, options, level);\n        case NodeType.Comment:\n          return this.comment(node, options, level);\n        case NodeType.Element:\n          return this.element(node, options, level);\n        case NodeType.Raw:\n          return this.raw(node, options, level);\n        case NodeType.Text:\n          return this.text(node, options, level);\n        case NodeType.ProcessingInstruction:\n          return this.processingInstruction(node, options, level);\n        case NodeType.Dummy:\n          return '';\n        case NodeType.Declaration:\n          return this.declaration(node, options, level);\n        case NodeType.DocType:\n          return this.docType(node, options, level);\n        case NodeType.AttributeDeclaration:\n          return this.dtdAttList(node, options, level);\n        case NodeType.ElementDeclaration:\n          return this.dtdElement(node, options, level);\n        case NodeType.EntityDeclaration:\n          return this.dtdEntity(node, options, level);\n        case NodeType.NotationDeclaration:\n          return this.dtdNotation(node, options, level);\n        default:\n          throw new Error(\"Unknown XML node type: \" + node.constructor.name);\n      }\n    };\n\n    XMLWriterBase.prototype.processingInstruction = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<?';\n      options.state = WriterState.InsideTag;\n      r += node.target;\n      if (node.value) {\n        r += ' ' + node.value;\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '?>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.raw = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.text = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdAttList = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ATTLIST';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.elementName + ' ' + node.attributeName + ' ' + node.attributeType;\n      if (node.defaultValueType !== '#DEFAULT') {\n        r += ' ' + node.defaultValueType;\n      }\n      if (node.defaultValue) {\n        r += ' \"' + node.defaultValue + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdElement = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ELEMENT';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.name + ' ' + node.value;\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdEntity = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ENTITY';\n      options.state = WriterState.InsideTag;\n      if (node.pe) {\n        r += ' %';\n      }\n      r += ' ' + node.name;\n      if (node.value) {\n        r += ' \"' + node.value + '\"';\n      } else {\n        if (node.pubID && node.sysID) {\n          r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n        } else if (node.sysID) {\n          r += ' SYSTEM \"' + node.sysID + '\"';\n        }\n        if (node.nData) {\n          r += ' NDATA ' + node.nData;\n        }\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdNotation = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!NOTATION';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.name;\n      if (node.pubID && node.sysID) {\n        r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n      } else if (node.pubID) {\n        r += ' PUBLIC \"' + node.pubID + '\"';\n      } else if (node.sysID) {\n        r += ' SYSTEM \"' + node.sysID + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.openNode = function(node, options, level) {};\n\n    XMLWriterBase.prototype.closeNode = function(node, options, level) {};\n\n    XMLWriterBase.prototype.openAttribute = function(att, options, level) {};\n\n    XMLWriterBase.prototype.closeAttribute = function(att, options, level) {};\n\n    return XMLWriterBase;\n\n  })();\n\n}).call(this);\n"]},"metadata":{},"sourceType":"script"}