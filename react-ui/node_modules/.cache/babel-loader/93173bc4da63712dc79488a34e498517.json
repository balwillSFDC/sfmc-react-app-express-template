{"ast":null,"code":"var util = require('util');\n\nvar helpers = require('../helpers');\n/*\r\nhttps://code.exacttarget.com/apis-sdks/fuel-sdks/triggered-sends/triggered-send-create.html\r\n*/\n\n\nvar TriggeredSend = function (parent, options) {\n  this.parent = parent;\n  this.objName = 'TriggeredSendDefinition';\n  this.config = options;\n  options = options || {};\n  this.options = options.options || {};\n  this.props = options.props || {}; //props corresponds to the Objects attribute in the SOAP envelope.\n};\n\nTriggeredSend.prototype.post = function (cb) {\n  this.parent.SoapClient.create(this.objName, this.props, this.options, cb);\n};\n\nTriggeredSend.prototype.get = function (cb) {\n  var filter = {\n    filter: this.config.filter\n  } || null;\n\n  if (!this.props || helpers.isEmpty(this.props)) {\n    cb({\n      error: 'A property list is required for TriggeredSend retrieval.',\n      documentation: 'https://code.exacttarget.com/apis-sdks/fuel-sdks/triggered-sends/triggered-send-retrieve.html'\n    });\n  } else {\n    this.parent.SoapClient.retrieve(this.objName, this.props, filter, cb);\n  }\n};\n\nTriggeredSend.prototype.patch = function (cb) {\n  this.parent.SoapClient.update(this.objName, this.props, this.options, cb);\n};\n\nTriggeredSend.prototype.delete = function (cb) {\n  this.parent.SoapClient.delete(this.objName, this.props, this.options, cb);\n};\n\nTriggeredSend.prototype.send = function (cb) {\n  this.parent.SoapClient.create('TriggeredSend', this.props, this.options, cb);\n  /*\r\n  var endpoint = 'https://www.exacttargetapis.com/messaging/v1/messageDefinitionSends/{guid}/send';\r\n  //var endpoint = 'https://www.exacttargetapis.com/messaging/v1/messageDefinitionSends/{key:cust_key}/send';\r\n  var options = {\r\n  \t\turi: this.endpoint.replace()\r\n  \t\t,props: {\"CustomerKey\" : \"1859\"}\r\n  \t};\t\t\r\n  \r\n  this.parent.RestClient\r\n  \t.post(options)\r\n  \t.then(function(response) {\r\n  \t\tcb(null,response); \r\n  \t}.bind(this))\r\n  \t.catch(function(err) {\r\n  \t\tcb(err,null); \r\n  \t}.bind(this));\t\r\n  */\n};\n\nmodule.exports = TriggeredSend;","map":{"version":3,"sources":["C:/Users/balwi/Documents/Coding/react-sfmc-api-poc/react-ui/node_modules/sfmc-fuelsdk-node/lib/objects/TriggeredSend.js"],"names":["util","require","helpers","TriggeredSend","parent","options","objName","config","props","prototype","post","cb","SoapClient","create","get","filter","isEmpty","error","documentation","retrieve","patch","update","delete","send","module","exports"],"mappings":"AAAA,IAAIA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,YAAD,CAArB;AAEA;AACA;AACA;;;AAEA,IAAIE,aAAa,GAAG,UAAUC,MAAV,EAAkBC,OAAlB,EAA2B;AAE9C,OAAKD,MAAL,GAAcA,MAAd;AACA,OAAKE,OAAL,GAAe,yBAAf;AAEA,OAAKC,MAAL,GAAcF,OAAd;AACAA,EAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AACA,OAAKA,OAAL,GAAeA,OAAO,CAACA,OAAR,IAAmB,EAAlC;AACA,OAAKG,KAAL,GAAaH,OAAO,CAACG,KAAR,IAAiB,EAA9B,CAR8C,CAQV;AAEpC,CAVD;;AAYAL,aAAa,CAACM,SAAd,CAAwBC,IAAxB,GAA+B,UAASC,EAAT,EAAa;AAC3C,OAAKP,MAAL,CAAYQ,UAAZ,CAAuBC,MAAvB,CACC,KAAKP,OADN,EAEC,KAAKE,KAFN,EAGC,KAAKH,OAHN,EAICM,EAJD;AAMA,CAPD;;AASAR,aAAa,CAACM,SAAd,CAAwBK,GAAxB,GAA8B,UAASH,EAAT,EAAa;AAC1C,MAAII,MAAM,GAAG;AAACA,IAAAA,MAAM,EAAE,KAAKR,MAAL,CAAYQ;AAArB,OAAgC,IAA7C;;AAEA,MAAI,CAAC,KAAKP,KAAN,IAAeN,OAAO,CAACc,OAAR,CAAgB,KAAKR,KAArB,CAAnB,EAAgD;AAC/CG,IAAAA,EAAE,CAAC;AAACM,MAAAA,KAAK,EAAE,0DAAR;AAAoEC,MAAAA,aAAa,EAAE;AAAnF,KAAD,CAAF;AACA,GAFD,MAEO;AACN,SAAKd,MAAL,CAAYQ,UAAZ,CAAuBO,QAAvB,CACC,KAAKb,OADN,EAEC,KAAKE,KAFN,EAGCO,MAHD,EAICJ,EAJD;AAMA;AACD,CAbD;;AAeAR,aAAa,CAACM,SAAd,CAAwBW,KAAxB,GAAgC,UAAST,EAAT,EAAa;AAC5C,OAAKP,MAAL,CAAYQ,UAAZ,CAAuBS,MAAvB,CACC,KAAKf,OADN,EAEC,KAAKE,KAFN,EAGC,KAAKH,OAHN,EAICM,EAJD;AAMA,CAPD;;AASAR,aAAa,CAACM,SAAd,CAAwBa,MAAxB,GAAiC,UAASX,EAAT,EAAa;AAC7C,OAAKP,MAAL,CAAYQ,UAAZ,CAAuBU,MAAvB,CACC,KAAKhB,OADN,EAEC,KAAKE,KAFN,EAGC,KAAKH,OAHN,EAICM,EAJD;AAMA,CAPD;;AASAR,aAAa,CAACM,SAAd,CAAwBc,IAAxB,GAA+B,UAASZ,EAAT,EAAa;AAC3C,OAAKP,MAAL,CAAYQ,UAAZ,CAAuBC,MAAvB,CACC,eADD,EAEC,KAAKL,KAFN,EAGC,KAAKH,OAHN,EAICM,EAJD;AAOA;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACC,CAzBD;;AA6BAa,MAAM,CAACC,OAAP,GAAiBtB,aAAjB","sourcesContent":["var util = require('util');\r\nvar helpers = require('../helpers');\r\n\t\r\n/*\r\nhttps://code.exacttarget.com/apis-sdks/fuel-sdks/triggered-sends/triggered-send-create.html\r\n*/\t\r\n\t\r\nvar TriggeredSend = function (parent, options) {\r\n\t\r\n\tthis.parent = parent;\r\n\tthis.objName = 'TriggeredSendDefinition';\r\n\t\r\n\tthis.config = options;\r\n\toptions = options || {};\r\n\tthis.options = options.options || {};\r\n\tthis.props = options.props || {};   //props corresponds to the Objects attribute in the SOAP envelope.\r\n\r\n};\r\n\r\nTriggeredSend.prototype.post = function(cb) {\r\n\tthis.parent.SoapClient.create(\r\n\t\tthis.objName,\r\n\t\tthis.props,\r\n\t\tthis.options,\r\n\t\tcb\r\n\t);\r\n};\r\n\r\nTriggeredSend.prototype.get = function(cb) {\r\n\tvar filter = {filter: this.config.filter} || null;\r\n\r\n\tif (!this.props || helpers.isEmpty(this.props)) {\r\n\t\tcb({error: 'A property list is required for TriggeredSend retrieval.', documentation: 'https://code.exacttarget.com/apis-sdks/fuel-sdks/triggered-sends/triggered-send-retrieve.html'});\r\n\t} else {\r\n\t\tthis.parent.SoapClient.retrieve(\r\n\t\t\tthis.objName,\r\n\t\t\tthis.props,\r\n\t\t\tfilter,\r\n\t\t\tcb\r\n\t\t);\r\n\t}\t\t\r\n};\r\n\r\nTriggeredSend.prototype.patch = function(cb) {\r\n\tthis.parent.SoapClient.update(\r\n\t\tthis.objName,\r\n\t\tthis.props,\r\n\t\tthis.options,\r\n\t\tcb\r\n\t);\r\n};\r\n\r\nTriggeredSend.prototype.delete = function(cb) {\r\n\tthis.parent.SoapClient.delete(\r\n\t\tthis.objName,\r\n\t\tthis.props,\r\n\t\tthis.options,\r\n\t\tcb\r\n\t);\r\n};\r\n\r\nTriggeredSend.prototype.send = function(cb) {\r\n\tthis.parent.SoapClient.create(\r\n\t\t'TriggeredSend',\r\n\t\tthis.props,\r\n\t\tthis.options,\r\n\t\tcb\r\n\t);\r\n\t\r\n\t/*\r\n\tvar endpoint = 'https://www.exacttargetapis.com/messaging/v1/messageDefinitionSends/{guid}/send';\r\n\t//var endpoint = 'https://www.exacttargetapis.com/messaging/v1/messageDefinitionSends/{key:cust_key}/send';\r\n\tvar options = {\r\n\t\t\turi: this.endpoint.replace()\r\n\t\t\t,props: {\"CustomerKey\" : \"1859\"}\r\n\t\t};\t\t\r\n\t\r\n\tthis.parent.RestClient\r\n\t\t.post(options)\r\n\t\t.then(function(response) {\r\n\t\t\tcb(null,response); \r\n\t\t}.bind(this))\r\n\t\t.catch(function(err) {\r\n\t\t\tcb(err,null); \r\n\t\t}.bind(this));\t\r\n\t*/\t\r\n};\r\n\r\n\r\n\r\nmodule.exports = TriggeredSend;"]},"metadata":{},"sourceType":"script"}