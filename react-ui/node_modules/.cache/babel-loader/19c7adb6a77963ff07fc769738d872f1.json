{"ast":null,"code":"var util = require('util');\n\nvar helpers = require('../helpers');\n/*\r\nhttp://help.exacttarget.com/en/technical_library/web_service_guide/objects/dataextensionobject/\r\nhttps://code.exacttarget.com/apis-sdks/fuel-sdks/data-extension-rows/data-extension-row-retrieve.html\r\n*/\n\n\nvar DataExtensionRow = function (parent, options) {\n  this.parent = parent;\n  this.objName = 'DataExtensionObject';\n  options = options || {};\n  this.props = {};\n  this.options = options.options || {};\n  this.config = options;\n};\n\nDataExtensionRow.prototype.post = function (cb) {\n  var flds = [];\n\n  for (key in this.config.props) {\n    flds.push({\n      \"Name\": key,\n      \"Value\": this.config.props[key]\n    });\n  }\n\n  if (this.config.CustomerKey) this.props.CustomerKey = this.config.CustomerKey;\n  if (this.config.Name) this.props.Name = this.config.Name;\n  this.props.Properties = {};\n  this.props.Properties.Property = flds;\n  this.parent.SoapClient.create(this.objName, this.props, this.options, cb);\n};\n\nDataExtensionRow.prototype.get = function (cb) {\n  this.props = this.config.props || {};\n  var filter = {\n    filter: this.config.filter\n  } || null;\n\n  if (!this.props || helpers.isEmpty(this.props)) {\n    cb({\n      error: 'A property list is required for DE Row retrieval.',\n      documentation: 'https://code.exacttarget.com/apis-sdks/fuel-sdks/data-extension-rows/data-extension-row-retrieve.html'\n    });\n  } else {\n    this.parent.SoapClient.retrieve(this.objName + '[' + this.config.Name + ']', this.props, filter, cb);\n  }\n};\n\nDataExtensionRow.prototype.patch = function (cb) {\n  var flds = [];\n\n  for (key in this.config.props) {\n    flds.push({\n      \"Name\": key,\n      \"Value\": this.config.props[key]\n    });\n  }\n\n  if (this.config.CustomerKey) this.props.CustomerKey = this.config.CustomerKey;\n  if (this.config.Name) this.props.Name = this.config.Name;\n  this.props.Properties = {};\n  this.props.Properties.Property = flds;\n  this.parent.SoapClient.update(this.objName, this.props, this.options, cb);\n};\n\nDataExtensionRow.prototype.delete = function (cb) {\n  var flds = [];\n\n  for (key in this.config.props) {\n    flds.push({\n      \"Name\": key,\n      \"Value\": this.config.props[key]\n    });\n  }\n\n  if (this.config.CustomerKey) this.props.CustomerKey = this.config.CustomerKey;\n  if (this.config.Name) this.props.Name = this.config.Name;\n  this.props.Keys = {};\n  this.props.Keys.Key = flds;\n  this.parent.SoapClient.delete(this.objName, this.props, this.options, cb);\n};\n\nmodule.exports = DataExtensionRow;","map":{"version":3,"sources":["C:/Users/balwi/Documents/Coding/react-sfmc-api-poc/react-ui/node_modules/sfmc-fuelsdk-node/lib/objects/DataExtensionRow.js"],"names":["util","require","helpers","DataExtensionRow","parent","options","objName","props","config","prototype","post","cb","flds","key","push","CustomerKey","Name","Properties","Property","SoapClient","create","get","filter","isEmpty","error","documentation","retrieve","patch","update","delete","Keys","Key","module","exports"],"mappings":"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","sourcesContent":["var util = require('util');\r\nvar helpers = require('../helpers');\r\n\t\r\n/*\r\nhttp://help.exacttarget.com/en/technical_library/web_service_guide/objects/dataextensionobject/\r\nhttps://code.exacttarget.com/apis-sdks/fuel-sdks/data-extension-rows/data-extension-row-retrieve.html\r\n*/\t\r\n\t\r\nvar DataExtensionRow = function (parent, options) {\r\n\t\r\n\tthis.parent = parent;\r\n\tthis.objName = 'DataExtensionObject';\r\n\t\r\n\toptions = options || {};\r\n\t\r\n    this.props = {};\r\n    this.options = options.options || {};\r\n    this.config = options;\r\n\r\n};\r\n\r\nDataExtensionRow.prototype.post = function(cb) {\r\n\r\n\tvar flds = [];\r\n    for (key in this.config.props) {\r\n    \tflds.push({\"Name\" : key, \"Value\" : this.config.props[key]});\r\n    }\r\n    if (this.config.CustomerKey) this.props.CustomerKey = this.config.CustomerKey;\r\n    if (this.config.Name) this.props.Name = this.config.Name;\r\n    this.props.Properties = {};\r\n    this.props.Properties.Property = flds;\r\n\r\n\tthis.parent.SoapClient.create(\r\n\t\tthis.objName,\r\n\t\tthis.props,\r\n\t\tthis.options,\r\n\t\tcb\r\n\t);\r\n};\r\n\r\nDataExtensionRow.prototype.get = function(cb) {\r\n\r\n\tthis.props = this.config.props || {};\r\n\tvar filter = {filter: this.config.filter} || null;\r\n\t\r\n\tif (!this.props || helpers.isEmpty(this.props)) {\r\n\t\tcb({error: 'A property list is required for DE Row retrieval.', documentation: 'https://code.exacttarget.com/apis-sdks/fuel-sdks/data-extension-rows/data-extension-row-retrieve.html'});\r\n\t} else {\r\n\t\tthis.parent.SoapClient.retrieve(\r\n\t\t\tthis.objName + '[' + this.config.Name + ']',\r\n\t\t\tthis.props,\r\n\t\t\tfilter,\r\n\t\t\tcb\r\n\t\t);\r\n\t}\t\t\r\n};\r\n\r\nDataExtensionRow.prototype.patch = function(cb) {\r\n\r\n\tvar flds = [];\r\n    for (key in this.config.props) {\r\n    \tflds.push({\"Name\" : key, \"Value\" : this.config.props[key]});\r\n    }\r\n    if (this.config.CustomerKey) this.props.CustomerKey = this.config.CustomerKey;\r\n    if (this.config.Name) this.props.Name = this.config.Name;\r\n    this.props.Properties = {};\r\n    this.props.Properties.Property = flds;\r\n\t\r\n\tthis.parent.SoapClient.update(\r\n\t\tthis.objName,\r\n\t\tthis.props,\r\n\t\tthis.options,\r\n\t\tcb\r\n\t);\r\n};\r\n\r\nDataExtensionRow.prototype.delete = function(cb) {\r\n\r\n\tvar flds = [];\r\n    for (key in this.config.props) {\r\n    \tflds.push({\"Name\" : key, \"Value\" : this.config.props[key]});\r\n    }\r\n    if (this.config.CustomerKey) this.props.CustomerKey = this.config.CustomerKey;\r\n    if (this.config.Name) this.props.Name = this.config.Name;\r\n    this.props.Keys = {};\r\n    this.props.Keys.Key = flds;\r\n\r\n\tthis.parent.SoapClient.delete(\r\n\t\tthis.objName,\r\n\t\tthis.props,\r\n\t\tthis.options,\r\n\t\tcb\r\n\t);\r\n};\r\n\r\n\r\n\r\nmodule.exports = DataExtensionRow;"]},"metadata":{},"sourceType":"script"}