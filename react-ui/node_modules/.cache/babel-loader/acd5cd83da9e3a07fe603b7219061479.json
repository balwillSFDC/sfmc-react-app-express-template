{"ast":null,"code":"var util = require('util');\n\nvar querystring = require('querystring');\n\nvar helpers = require('../helpers');\n/*\r\nhttps://code.exacttarget.com/apis-sdks/fuel-sdks/campaigns/campaign-create.html\r\nhttp://help.exacttarget.com/en/technical_library/web_service_guide/objects/campaign/\r\n*/\n\n\nvar Campaign = function (parent, options) {\n  this.parent = parent;\n  this.endpoint = `${this.parent.RestClient.origin}/hub/v1/campaigns`;\n  this.config = options;\n};\n\nCampaign.prototype.post = function (cb) {\n  var id = this.config.id ? this.config.id : '';\n  var options = {\n    uri: this.endpoint + '/' + id,\n    body: JSON.stringify(this.config.props)\n  };\n  this.parent.RestClient.post(options).then(function (response) {\n    cb(null, response);\n  }.bind(this)).catch(function (err) {\n    cb(err, null);\n  }.bind(this));\n};\n\nCampaign.prototype.get = function (cb) {\n  var id = this.config.id ? this.config.id : '';\n  var options = {\n    uri: this.endpoint + '/' + id\n  };\n  if (this.config.props) options.uri += '?' + querystring.stringify(this.config.props);\n  this.parent.RestClient.get(options).then(function (response) {\n    cb(null, response);\n  }.bind(this)).catch(function (err) {\n    cb(err, null);\n  }.bind(this));\n};\n\nCampaign.prototype.patch = function (cb) {\n  //patch is not implemented in v1 REST, use post instead.\n  this.post(cb);\n};\n\nCampaign.prototype.delete = function (cb) {\n  if (!this.config.id) {\n    cb({\n      error: 'An id is required for campaign deletion.',\n      documentation: 'https://code.exacttarget.com/apis-sdks/rest-api/v1/hub/campaigns/deleteCampaign.html'\n    });\n  } else {\n    var options = {\n      uri: this.endpoint + '/' + this.config.id\n    };\n    this.parent.RestClient.delete(options).then(function (response) {\n      cb(null, response);\n    }.bind(this)).catch(function (err) {\n      if (err.message === 'API did not return JSON') {\n        // should be fixed on fuel-rest package instead\n        return cb(null, {});\n      }\n\n      cb(err, null);\n    });\n  }\n};\n\nmodule.exports = Campaign;","map":{"version":3,"sources":["C:/Users/balwi/Documents/Coding/react-sfmc-api-poc/node_modules/sfmc-fuelsdk-node/lib/objects/Campaign.js"],"names":["util","require","querystring","helpers","Campaign","parent","options","endpoint","RestClient","origin","config","prototype","post","cb","id","uri","body","JSON","stringify","props","then","response","bind","catch","err","get","patch","delete","error","documentation","message","module","exports"],"mappings":"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","sourcesContent":["var util = require('util');\r\nvar querystring = require('querystring');\r\nvar helpers = require('../helpers');\r\n\t\r\n/*\r\nhttps://code.exacttarget.com/apis-sdks/fuel-sdks/campaigns/campaign-create.html\r\nhttp://help.exacttarget.com/en/technical_library/web_service_guide/objects/campaign/\r\n*/\t\r\n\t\r\nvar Campaign = function (parent, options) {\r\n\t\r\n\tthis.parent = parent;\r\n\tthis.endpoint = `${this.parent.RestClient.origin}/hub/v1/campaigns`;\r\n\t\r\n\tthis.config = options;\r\n\t\r\n\r\n};\r\n\r\nCampaign.prototype.post = function(cb) {\r\n\r\n\tvar id = this.config.id ? this.config.id : '';\r\n\tvar options = {\r\n\t\turi: this.endpoint + '/' + id\r\n\t\t,body: JSON.stringify(this.config.props)\r\n\t};\r\n\t\r\n\tthis.parent.RestClient\r\n\t\t.post(options)\r\n\t\t.then(function(response) {\r\n\t\t\tcb(null,response); \r\n\t\t}.bind(this))\r\n\t\t.catch(function(err) {\r\n\t\t\tcb(err,null); \r\n\t\t}.bind(this));\r\n\r\n};\r\n\r\nCampaign.prototype.get = function(cb) {\r\n\t\t\t\r\n\tvar id = this.config.id ? this.config.id : '';\r\n\tvar options = {\r\n\t\turi: this.endpoint + '/' + id\r\n\t};\r\n\tif (this.config.props) options.uri += '?' + querystring.stringify(this.config.props);\r\n\r\n\tthis.parent.RestClient\r\n\t\t.get(options)\r\n\t\t.then(function(response) {\r\n\t\t\tcb(null,response); \r\n\t\t}.bind(this))\r\n\t\t.catch(function(err) {\r\n\t\t\tcb(err,null); \r\n\t\t}.bind(this));\t\t\r\n\t\t\r\n};\r\n\r\nCampaign.prototype.patch = function(cb) {\r\n\t//patch is not implemented in v1 REST, use post instead.\r\n\tthis.post(cb);\t\t\r\n};\r\n\r\nCampaign.prototype.delete = function(cb) {\r\n\r\n\tif (!this.config.id) {\r\n\t\tcb({error: 'An id is required for campaign deletion.', documentation: 'https://code.exacttarget.com/apis-sdks/rest-api/v1/hub/campaigns/deleteCampaign.html'});\r\n\t} else {\t\r\n\t\tvar options = {\r\n\t\t\turi: this.endpoint + '/' + this.config.id\r\n\t\t};\r\n\r\n\t\tthis.parent.RestClient\r\n\t\t\t.delete(options)\r\n\t\t\t.then(function(response) {\r\n\t\t\t\tcb(null,response); \r\n\t\t\t}.bind(this))\r\n            .catch(function (err) {\r\n                if (err.message === 'API did not return JSON') { // should be fixed on fuel-rest package instead\r\n                    return cb(null, {});\r\n                }\r\n                cb(err, null);\r\n            });\r\n\t}\r\n\t\t\r\n};\r\n\r\n\r\n\r\nmodule.exports = Campaign;"]},"metadata":{},"sourceType":"script"}